{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.lookupProfile = lookupProfile;\n\nvar _profileZoneFiles = require(\"./profileZoneFiles\");\n\nvar _config = require(\"../config\");\n/**\n * Look up a user profile by blockstack ID\n *\n * @param {string} username - The Blockstack ID of the profile to look up\n * @param {string} [zoneFileLookupURL=null] - The URL\n * to use for zonefile lookup. If falsey, lookupProfile will use the\n * blockstack.js getNameInfo function.\n * @returns {Promise} that resolves to a profile object\n */\n\n\nfunction lookupProfile(username) {\n  var zoneFileLookupURL = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  if (!username) {\n    return Promise.reject();\n  }\n\n  var lookupPromise;\n\n  if (zoneFileLookupURL) {\n    var url = \"\".concat(zoneFileLookupURL.replace(/\\/$/, ''), \"/\").concat(username);\n    lookupPromise = fetch(url).then(function (response) {\n      return response.json();\n    });\n  } else {\n    lookupPromise = _config.config.network.getNameInfo(username);\n  }\n\n  return lookupPromise.then(function (responseJSON) {\n    if (responseJSON.hasOwnProperty('zonefile') && responseJSON.hasOwnProperty('address')) {\n      return (0, _profileZoneFiles.resolveZoneFileToProfile)(responseJSON.zonefile, responseJSON.address);\n    } else {\n      throw new Error('Invalid zonefile lookup response: did not contain `address`' + ' or `zonefile` field');\n    }\n  });\n}","map":null,"metadata":{},"sourceType":"script"}