{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar components_1 = require(\"./components\");\n\nvar context_1 = require(\"./context\");\n\nvar default_global_state_manager_1 = require(\"./default-global-state-manager\");\n\nvar methods_1 = require(\"./methods\");\n\nvar componentName = function componentName(Component) {\n  return typeof Component === 'string' ? Component : Component.displayName || Component.name;\n};\n\nvar isComponentDidMount = false;\nvar isComponentDidUpdate = false;\nvar isSetGlobalCallback = false;\n\nfunction withGlobal(globalStateManager, getter, setter) {\n  if (globalStateManager === void 0) {\n    globalStateManager = null;\n  }\n\n  if (getter === void 0) {\n    getter = function getter(globalState) {\n      return globalState;\n    };\n  }\n\n  if (setter === void 0) {\n    setter = function setter() {\n      return null;\n    };\n  }\n\n  return function ReactNWithGlobal(Component) {\n    var _a;\n\n    return _a = function (_super) {\n      __extends(ReactNHOC, _super);\n\n      function ReactNHOC() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.setGlobal = function (newGlobalState, callback) {\n          if (callback === void 0) {\n            callback = null;\n          }\n\n          return methods_1.ReactNSetGlobal(newGlobalState, callback, !isComponentDidMount && !isComponentDidUpdate && !isSetGlobalCallback, globalStateManager || _this.context || default_global_state_manager_1.default);\n        };\n\n        return _this;\n      }\n\n      Object.defineProperty(ReactNHOC.prototype, \"global\", {\n        get: function get() {\n          return methods_1.ReactNGlobal(this, globalStateManager || this.context || default_global_state_manager_1.default);\n        },\n        enumerable: true,\n        configurable: true\n      });\n\n      ReactNHOC.prototype.render = function () {\n        var lowerOrderProps = __assign({}, this.props, getter(this.global, this.props), setter(this.setGlobal, this.props));\n\n        return react_1.createElement(Component, lowerOrderProps);\n      };\n\n      return ReactNHOC;\n    }(components_1.ReactNComponent), _a.contextType = context_1.default, _a.displayName = componentName(Component) + \"-ReactN\", _a;\n  };\n}\n\nexports.default = withGlobal;\n;","map":null,"metadata":{},"sourceType":"script"}