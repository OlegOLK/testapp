{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"C:\\\\Repository\\\\testapp\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:\\\\Repository\\\\testapp\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"C:\\\\Repository\\\\testapp\\\\node_modules\\\\@babel\\\\runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"C:\\\\Repository\\\\testapp\\\\node_modules\\\\@babel\\\\runtime/helpers/getPrototypeOf\");\n\nvar _get = require(\"C:\\\\Repository\\\\testapp\\\\node_modules\\\\@babel\\\\runtime/helpers/get\");\n\nvar _inherits = require(\"C:\\\\Repository\\\\testapp\\\\node_modules\\\\@babel\\\\runtime/helpers/inherits\");\n\nexports.__esModule = true;\nexports.Facebook = void 0;\n\nvar _cheerio = _interopRequireDefault(require(\"cheerio\"));\n\nvar _service = require(\"./service\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Facebook =\n/*#__PURE__*/\nfunction (_service$Service) {\n  _inherits(Facebook, _service$Service);\n\n  function Facebook() {\n    _classCallCheck(this, Facebook);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Facebook).apply(this, arguments));\n  }\n\n  _createClass(Facebook, null, [{\n    key: \"getProofUrl\",\n    value: function getProofUrl(proof) {\n      return this.normalizeFacebookUrl(proof);\n    }\n  }, {\n    key: \"normalizeFacebookUrl\",\n    value: function normalizeFacebookUrl(proof) {\n      var proofUrl = proof.proof_url.toLowerCase();\n      var urlRegex = /(?:http[s]*:\\/\\/){0,1}(?:[a-zA-Z0-9-]+\\.)+facebook\\.com/;\n      proofUrl = _get(_getPrototypeOf(Facebook), \"prefixScheme\", this).call(this, proofUrl);\n\n      if (proofUrl.startsWith('https://facebook.com')) {\n        var tokens = proofUrl.split('https://facebook.com');\n        proofUrl = \"https://www.facebook.com\".concat(tokens[1]);\n        tokens = proofUrl.split('https://www.facebook.com/')[1].split('/posts/');\n        var postId = tokens[1];\n        proofUrl = \"https://www.facebook.com/\".concat(proof.identifier, \"/posts/\").concat(postId);\n      } else if (proofUrl.match(urlRegex)) {\n        var _tokens = proofUrl.split('facebook.com/')[1].split('/posts/');\n\n        var _postId = _tokens[1];\n        proofUrl = \"https://www.facebook.com/\".concat(proof.identifier, \"/posts/\").concat(_postId);\n      } else {\n        throw new Error(\"Proof url \".concat(proof.proof_url, \" is not valid for service \").concat(proof.service));\n      }\n\n      return proofUrl;\n    }\n  }, {\n    key: \"getProofStatement\",\n    value: function getProofStatement(searchText) {\n      var $ = _cheerio.default.load(searchText);\n\n      var statement = $('meta[name=\"description\"]').attr('content');\n      return statement !== undefined ? statement.trim() : '';\n    }\n  }]);\n\n  return Facebook;\n}(_service.Service);\n\nexports.Facebook = Facebook;","map":null,"metadata":{},"sourceType":"script"}